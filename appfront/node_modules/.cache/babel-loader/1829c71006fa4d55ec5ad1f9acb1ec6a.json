{"ast":null,"code":"var _jsxFileName = \"/Users/adam/Desktop/learnreact/newreactproj/appfront/src/places/pages/UserPlaces.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport PlaceList from \"../components/PlaceList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\"; // const DUMMY_PLACES = [\n//     {\n//         id: 'p1',\n//         title: \"simple building\",\n//         description: 'sth for display',\n//         imageUrl: 'https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1469&q=80',\n//         address: 'from google map',\n//         location: {\n//             lat: 40,\n//             lng: 50\n//         },\n//         creator: 'u1'\n//     },\n//     {\n//         id: 'p2',\n//         title: \"simple building\",\n//         description: 'sth for display',\n//         imageUrl: 'https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1469&q=80',\n//         address: 'from google map',\n//         location: {\n//             lat: 40,\n//             lng: 50\n//         },\n//         creator: 'u2'\n//     }\n// ]\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserPlaces = () => {\n  _s();\n\n  const [loadedPlaces, setLoadedPlaces] = useState();\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const userId = useParams().userId;\n  useEffect(() => {\n    const fetchPlaces = async () => {\n      try {\n        const responseData = await sendRequest(`http://localhost:5000/api/places/user/${userId}`);\n        setLoadedPlaces(responseData.places);\n      } catch (err) {}\n    };\n\n    fetchPlaces();\n  }, [sendRequest, userId]);\n\n  const placeDeleteHandler = deletePlaceId => {\n    setLoadedPlaces(prevPlaces => prevPlaces.filter(place => place.id !== deletePlaceId));\n  }; // const loadedPlaces = DUMMY_PLACES.filter(place => place.creator === userId);\n\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this), !isLoading && loadedPlaces && /*#__PURE__*/_jsxDEV(PlaceList, {\n      items: loadedPlaces,\n      onDeletePlace: placeDeleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 44\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserPlaces, \"Jjx8x1DuBEzTmxOEV/N+WrTeEac=\", false, function () {\n  return [useHttpClient, useParams];\n});\n\n_c = UserPlaces;\nexport default UserPlaces;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPlaces\");","map":{"version":3,"names":["React","useEffect","useState","useParams","PlaceList","ErrorModal","LoadingSpinner","useHttpClient","UserPlaces","loadedPlaces","setLoadedPlaces","isLoading","error","sendRequest","clearError","userId","fetchPlaces","responseData","places","err","placeDeleteHandler","deletePlaceId","prevPlaces","filter","place","id"],"sources":["/Users/adam/Desktop/learnreact/newreactproj/appfront/src/places/pages/UserPlaces.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport PlaceList from \"../components/PlaceList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\n\n// const DUMMY_PLACES = [\n//     {\n//         id: 'p1',\n//         title: \"simple building\",\n//         description: 'sth for display',\n//         imageUrl: 'https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1469&q=80',\n//         address: 'from google map',\n//         location: {\n//             lat: 40,\n//             lng: 50\n//         },\n//         creator: 'u1'\n//     },\n//     {\n//         id: 'p2',\n//         title: \"simple building\",\n//         description: 'sth for display',\n//         imageUrl: 'https://images.unsplash.com/photo-1460472178825-e5240623afd5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1469&q=80',\n//         address: 'from google map',\n//         location: {\n//             lat: 40,\n//             lng: 50\n//         },\n//         creator: 'u2'\n//     }\n// ]\n\nconst UserPlaces = () => {\n    const [loadedPlaces, setLoadedPlaces] = useState();\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n    const userId = useParams().userId;\n\n    useEffect(() => {\n        const fetchPlaces = async () => {\n            try {\n                const responseData = await sendRequest(`http://localhost:5000/api/places/user/${userId}`);\n                setLoadedPlaces(responseData.places);\n            } catch (err) {}\n        };\n        fetchPlaces();  \n    },[sendRequest, userId]);\n\n    const placeDeleteHandler = (deletePlaceId) => {\n        setLoadedPlaces(\n            prevPlaces => prevPlaces.filter(place => place.id !== deletePlaceId)\n        );\n    };\n\n    // const loadedPlaces = DUMMY_PLACES.filter(place => place.creator === userId);\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onClear={clearError} />\n            {isLoading && (\n                <div className=\"center\">\n                    <LoadingSpinner />\n                </div>\n            )}\n            {!isLoading && loadedPlaces && <PlaceList items={loadedPlaces} onDeletePlace={placeDeleteHandler} />}\n        </React.Fragment>\n    )\n};\n\nexport default UserPlaces;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,+CAAvB;AACA,OAAOC,cAAP,MAA2B,mDAA3B;AACA,SAASC,aAAT,QAA8B,8BAA9B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,UAAU,GAAG,MAAM;EAAA;;EACrB,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,EAAhD;EACA,MAAM;IAAES,SAAF;IAAaC,KAAb;IAAoBC,WAApB;IAAiCC;EAAjC,IAAgDP,aAAa,EAAnE;EAEA,MAAMQ,MAAM,GAAGZ,SAAS,GAAGY,MAA3B;EAEAd,SAAS,CAAC,MAAM;IACZ,MAAMe,WAAW,GAAG,YAAY;MAC5B,IAAI;QACA,MAAMC,YAAY,GAAG,MAAMJ,WAAW,CAAE,yCAAwCE,MAAO,EAAjD,CAAtC;QACAL,eAAe,CAACO,YAAY,CAACC,MAAd,CAAf;MACH,CAHD,CAGE,OAAOC,GAAP,EAAY,CAAE;IACnB,CALD;;IAMAH,WAAW;EACd,CARQ,EAQP,CAACH,WAAD,EAAcE,MAAd,CARO,CAAT;;EAUA,MAAMK,kBAAkB,GAAIC,aAAD,IAAmB;IAC1CX,eAAe,CACXY,UAAU,IAAIA,UAAU,CAACC,MAAX,CAAkBC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaJ,aAAxC,CADH,CAAf;EAGH,CAJD,CAhBqB,CAsBrB;;;EACA,oBACI,QAAC,KAAD,CAAO,QAAP;IAAA,wBACI,QAAC,UAAD;MAAY,KAAK,EAAET,KAAnB;MAA0B,OAAO,EAAEE;IAAnC;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKH,SAAS,iBACN;MAAK,SAAS,EAAC,QAAf;MAAA,uBACI,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAHR,EAOK,CAACA,SAAD,IAAcF,YAAd,iBAA8B,QAAC,SAAD;MAAW,KAAK,EAAEA,YAAlB;MAAgC,aAAa,EAAEW;IAA/C;MAAA;MAAA;MAAA;IAAA,QAPnC;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAWH,CAlCD;;GAAMZ,U;UAEoDD,a,EAEvCJ,S;;;KAJbK,U;AAoCN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}