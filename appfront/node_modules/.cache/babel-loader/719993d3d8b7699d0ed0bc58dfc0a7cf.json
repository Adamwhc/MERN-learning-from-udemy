{"ast":null,"code":"var _jsxFileName = \"/Users/adam/Desktop/learnreact/newreactproj/appfront/src/user/pages/Users.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport UserList from \"../components/UsersList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Users = () => {\n  _s();\n\n  // const Users = [\n  //     {\n  //         id: 'u1', \n  //         name: 'xxx', \n  //         image: 'https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80',\n  //         places: 3\n  //     }\n  // ];\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState();\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const [loadedUsers, setLoadedUsers] = useState();\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const responseData = await sendRequest('http://localhost:5000/api/user');\n        setLoadedUsers(responseData.users);\n      } catch (err) {}\n    };\n\n    fetchUsers();\n  }, [sendRequest]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this), !isLoading && loadedUsers && /*#__PURE__*/_jsxDEV(UserList, {\n      items: loadedUsers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 43\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Users, \"LgV4OV3svx+SdyvxL/9ZeC9O1LI=\", false, function () {\n  return [useHttpClient];\n});\n\n_c = Users;\nexport default Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useEffect","useState","UserList","ErrorModal","LoadingSpinner","useHttpClient","Users","isLoading","error","sendRequest","clearError","loadedUsers","setLoadedUsers","fetchUsers","responseData","users","err"],"sources":["/Users/adam/Desktop/learnreact/newreactproj/appfront/src/user/pages/Users.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport UserList from \"../components/UsersList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\n\nconst Users = () => {\n    // const Users = [\n    //     {\n    //         id: 'u1', \n    //         name: 'xxx', \n    //         image: 'https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80',\n    //         places: 3\n    //     }\n    // ];\n    // const [isLoading, setIsLoading] = useState(false);\n    // const [error, setError] = useState();\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n    const [loadedUsers, setLoadedUsers] = useState();\n\n    useEffect(() => {\n        const fetchUsers = async () => {\n            try {\n                const responseData = await sendRequest('http://localhost:5000/api/user');\n\n                setLoadedUsers(responseData.users);\n            } catch (err) {}\n            \n        };\n        fetchUsers();\n    }, [sendRequest]);\n\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onClear={clearError} />\n            {isLoading && (\n                <div className=\"center\">\n                    <LoadingSpinner />\n                </div>\n            )}\n            {!isLoading && loadedUsers && <UserList items={loadedUsers} />}\n        </React.Fragment>\n    );\n};\n\nexport default Users;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,+CAAvB;AACA,OAAOC,cAAP,MAA2B,mDAA3B;AACA,SAASC,aAAT,QAA8B,8BAA9B;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAChB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM;IAAEC,SAAF;IAAaC,KAAb;IAAoBC,WAApB;IAAiCC;EAAjC,IAAgDL,aAAa,EAAnE;EACA,MAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,EAA9C;EAEAD,SAAS,CAAC,MAAM;IACZ,MAAMa,UAAU,GAAG,YAAY;MAC3B,IAAI;QACA,MAAMC,YAAY,GAAG,MAAML,WAAW,CAAC,gCAAD,CAAtC;QAEAG,cAAc,CAACE,YAAY,CAACC,KAAd,CAAd;MACH,CAJD,CAIE,OAAOC,GAAP,EAAY,CAAE;IAEnB,CAPD;;IAQAH,UAAU;EACb,CAVQ,EAUN,CAACJ,WAAD,CAVM,CAAT;EAYA,oBACI,QAAC,KAAD,CAAO,QAAP;IAAA,wBACI,QAAC,UAAD;MAAY,KAAK,EAAED,KAAnB;MAA0B,OAAO,EAAEE;IAAnC;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKH,SAAS,iBACN;MAAK,SAAS,EAAC,QAAf;MAAA,uBACI,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAHR,EAOK,CAACA,SAAD,IAAcI,WAAd,iBAA6B,QAAC,QAAD;MAAU,KAAK,EAAEA;IAAjB;MAAA;MAAA;MAAA;IAAA,QAPlC;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAWH,CArCD;;GAAML,K;UAWoDD,a;;;KAXpDC,K;AAuCN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}