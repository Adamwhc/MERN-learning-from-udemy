{"ast":null,"code":"var _jsxFileName = \"/Users/adam/Desktop/learnreact/newreactproj/appfront/src/places/components/PlaceItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Card from \"../../shared/components/UIElements/Card\";\nimport Modal from \"../../shared/components/UIElements/Modal\";\nimport Map from \"../../shared/components/UIElements/Map\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport './PlaceItem.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlaceItem = props => {\n  _s();\n\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const [showMap, setShowMap] = useState(false);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n\n  const openMap = () => setShowMap(true);\n\n  const closeMap = () => setShowMap(false);\n\n  const showDeleteWarningHandler = () => {\n    setShowConfirmModal(true);\n  };\n\n  const cancelDeleteHandler = () => {\n    setShowConfirmModal(false);\n  };\n\n  const confirmDeleteHandler = async () => {\n    setShowConfirmModal(false); // console.log('DELETING...');\n\n    try {\n      await sendRequest(`http://localhost:5000/api/places/${props.id}`, 'DELETE');\n      props.onDelete(props.id);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onclear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showMap,\n      onCancel: closeMap,\n      header: props.address,\n      contentClass: \"place-item_modal-content\",\n      footerClass: \"place-item_modal-actions\",\n      footer: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: closeMap,\n        children: \"CLOSE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-container\",\n        children: /*#__PURE__*/_jsxDEV(Map, {\n          center: props.coordinates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showConfirmModal,\n      onCancel: cancelDeleteHandler,\n      header: \"Are you sure?\",\n      footerClass: \"place-item_modal-actions\",\n      footer: /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          inverse: true,\n          onClick: cancelDeleteHandler,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          danger: true,\n          onClick: confirmDeleteHandler,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Do you want to delete? Please note\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"place-item\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"place-item_content\",\n        children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n          asOverlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"place-item_image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:5000/${props.image}`,\n            alt: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"place-item_info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: props.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: props.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"place-item_actions\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            inverse: true,\n            onClick: openMap,\n            children: \"View on the map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), auth.userId === props.creatorId && /*#__PURE__*/_jsxDEV(Button, {\n            to: `/places/${props.id}`,\n            children: \"EDIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 61\n          }, this), auth.userId === props.creatorId && /*#__PURE__*/_jsxDEV(Button, {\n            danger: true,\n            onClick: showDeleteWarningHandler,\n            children: \"DELETE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 61\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PlaceItem, \"7x904KR2YokLqt/PSIlq55wdXb8=\", false, function () {\n  return [useHttpClient];\n});\n\n_c = PlaceItem;\nexport default PlaceItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaceItem\");","map":{"version":3,"names":["React","useState","useContext","Button","Card","Modal","Map","ErrorModal","LoadingSpinner","AuthContext","useHttpClient","PlaceItem","props","isLoading","error","sendRequest","clearError","auth","showMap","setShowMap","showConfirmModal","setShowConfirmModal","openMap","closeMap","showDeleteWarningHandler","cancelDeleteHandler","confirmDeleteHandler","id","onDelete","err","address","coordinates","image","title","description","userId","creatorId"],"sources":["/Users/adam/Desktop/learnreact/newreactproj/appfront/src/places/components/PlaceItem.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Card from \"../../shared/components/UIElements/Card\";\nimport Modal from \"../../shared/components/UIElements/Modal\";\nimport Map from \"../../shared/components/UIElements/Map\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\n\nimport './PlaceItem.css';\n\nconst PlaceItem = props => {\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n    const auth = useContext(AuthContext);\n    const [showMap, setShowMap] = useState(false);\n    const [showConfirmModal, setShowConfirmModal] = useState(false);\n    \n    const openMap = () => setShowMap(true);\n\n    const closeMap = () => setShowMap(false);\n\n    const showDeleteWarningHandler = () => {\n        setShowConfirmModal(true);\n    };\n\n    const cancelDeleteHandler = () => {\n        setShowConfirmModal(false);\n    };\n\n    const confirmDeleteHandler = async () => {\n        setShowConfirmModal(false);\n        // console.log('DELETING...');\n        try { \n            await sendRequest(\n                `http://localhost:5000/api/places/${props.id}`,\n                'DELETE',\n            );\n            props.onDelete(props.id);\n        } catch (err) {}\n    };\n\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onclear={clearError} />\n            <Modal \n                show={showMap} \n                onCancel={closeMap} \n                header={props.address} \n                contentClass=\"place-item_modal-content\"\n                footerClass=\"place-item_modal-actions\"\n                footer={<Button onClick={closeMap}>CLOSE</Button>}\n            >\n                <div className=\"map-container\">\n                    <Map center={props.coordinates} />\n                </div>\n            </Modal>\n            <Modal \n                show={showConfirmModal}\n                onCancel={cancelDeleteHandler}\n                header=\"Are you sure?\"\n                footerClass=\"place-item_modal-actions\"\n                footer={\n                    <React.Fragment>\n                        <Button inverse onClick={cancelDeleteHandler}>Cancel</Button>\n                        <Button danger onClick={confirmDeleteHandler}>Delete</Button>\n                    </React.Fragment>\n                }\n            >\n                <p>Do you want to delete? Please note</p>\n            </Modal>\n            <li className=\"place-item\">\n                <Card className=\"place-item_content\">\n                    {isLoading && <LoadingSpinner asOverlay />}\n                    <div className=\"place-item_image\">\n                        <img src={`http://localhost:5000/${props.image}`} alt={props.title} />\n                    </div>\n                    <div className=\"place-item_info\">\n                        <h2>{props.title}</h2>\n                        <h3>{props.address}</h3>\n                        <p>{props.description}</p>\n                    </div>\n                    <div className=\"place-item_actions\">\n                        <Button inverse onClick={openMap}>View on the map</Button>\n                        {auth.userId === props.creatorId && <Button to={`/places/${props.id}`}>EDIT</Button>}\n                        {auth.userId === props.creatorId && <Button danger onClick={showDeleteWarningHandler}>DELETE</Button>}\n                    </div>\n                </Card>\n            </li>\n        </React.Fragment>\n    );\n};\n\nexport default PlaceItem;"],"mappings":"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"},"metadata":{},"sourceType":"module"}